UDP用户数据报协议〈User Datagram Protocol)是oSI参考模型中一种无连接的传输层协议，提供面向事务的简单不可靠信息.传送服务。
HTTP超文本传输协议（Hyper Text Transfer Protocol〉是互联网上应用最为广泛的一种网络协议。FTP文件传输协议(File Transfer Protocol)
ICMP 协议是Internet 控制报文协议(Internet Control Message Protocol)它是TCP/IP协议族的一个子协议，用于在主机、路由器之间传递控制消息
IGMP协议是Internet组管理协议(Internet Group Management Protocol)，是因特网协议家族中的一个组播协议。该协议运行在主机和组播路由器之间
# 网络基础
协议三要素：语义、语法、时序

## 分层模型、网络模型
OSI模型
```
应用层 HTTP、 File Transfer Protocol）、SMTP（Simple Mail Transfer Protocol）协议
表示层
会话层
传输层 TCP/UDP协议
网络层 IP（Internet Protocol）、ICMP（Internet Control Message Protocol）、OSPF、IGMP
数据链路层 ARP协议、RARP 协议
物理层
```
TCP/IP模型
```
应用层 HTTP、FTP、SMTP
传输层 TCP/UDP
网络层 IP、ICMP、OSPF、IGMP
链路层 ARP、RARP
```
![image](https://github.com/Amaz1ngJR/Technology/assets/83129567/8a74bda2-d811-4e3f-9d3a-32b4fa0bf16e)
网络模型：C/S模型(client-server)和B/S模型(browser-server)
|    |C/S模型(client-server)|B/S模型(browser-server)|
|-----|--------------------|------------------------|
|优点|缓存大量数据、协议选择灵活、速度快|安全性高、跨平台、开发工作量小|
|缺点|安全性不好、不能跨平台、开发工作量大|不能缓存大量数据、严格遵循http|
## 网络通信
```
数据不进行封装是没法在网络中传输的
主机A向主机B发生数据M 对M进行封装应用层->(剩余都是内核层封装)传输层(段)->网络层(数据报)->链路层(帧) ->网络 主机B逆向解封装获得数据M
```
```
应用层                                                           【首部】【用户数据】
TCP段                                              【TCP首部(20)】【应用数据】
IP数据报                              【IP首部(20)】【TCP首部(20)】【应用数据】
以太网帧     【以太网首部(14)】        【IP首部(20)】【TCP首部(20)】【应用数据】【以太网尾部(4)】
=>【目的MAC地址(6)源MAC地址(6)类型(2)】【数据(46-1500字节)】                   【CRC(4)】 MAC地址(物理地址)全球唯一
```
# ARP、RARP协议
```
ARP协议是正向地址解析协议(Address Resolution Protocol)工作在数据链路层之上 帮助解决网络层(IP层)地址到数据链路层地址的映射问题
*通过已知的IP 寻找对应主机的MAc地址 用于将IP地址解析为对应的物理硬件地址(如MAC地址)
在同一网络中的设备通过已知的IP地址查找相应的MAC地址 以便正确地将数据帧发送到目标设备
```
```
可以相当于以太网帧的特殊的一种
帧首部的类型为0800表示普通的帧 类型为0806表示ARP 8035表示RARP + 【ARP/RARP 请求/应答(28) + PAD(18)凑够以太网帧的最小数据长度46B】
```
![image](https://github.com/Amaz1ngJR/Technology/assets/83129567/5c31c69a-a7ab-448d-afff-82d0f3ac80f1)
```
ARP请求示例：[ff:ff:ff:ff:ff][00:0c:29:9c:e5][0806][8B][00:0c:29:9c:e5][192.168.1.108][ff:ff:ff:ff:ff][192.168.1.111]
ARP应答示例：[00:0c:29:9c:e5][66:0c:29:96:66][0806][8B][66:0c:29:96:66][192.168.1.111][00:0c:29:9c:e5][192.168.1.108]
```
```
RARP协议也工作在数据链路层之上 与ARP相反 用于将已知的物理硬件地址(如MAC地址)解析为对应的IP地址 通常 RARP在启动时由计算机向网络上的RARP服务器请求其IP地址
```

# IP协议
![image](https://github.com/Amaz1ngJR/Technology/assets/83129567/2d9bfb90-c911-4732-9239-895b27917f18)
```
版本 IPV4/6 TTL设置数据包在路由节点中的跳转上限 每经过一个路由节点该值-1 直到0路由器丢弃
```
# TCP/UDP
TCP传输控制协议(Transmission Control Protocol)是一种面向连接的、可靠的、基于字节流的传输层通信协议
![image](https://github.com/Amaz1ngJR/Technology/assets/83129567/53269520-051d-478b-a58e-0ec962c6a0ba)

三次握手(发生在内核 用户层面上 客户端connect和服务器accept执行完成并返回)

四次挥手 先两次实现客户端半关闭(客户端不能发送数据了 但能接受服务器发来的数据)

![image](https://github.com/Amaz1ngJR/Technology/assets/83129567/033e1657-0e5d-41fd-942f-32ec9d22fd65)

最后客户端会等待2MSL的时长才关闭连接 保证最后一个ACK能成功被对端接收

四次挥手的半关闭状态：正是因为需要两次才能半关闭 所以断开连接是四次握手

socket套接字中有两个(读、写)缓冲区 半关闭就是关闭了其中一个写缓冲区
![image](https://github.com/Amaz1ngJR/Technology/assets/83129567/55163018-cfea-44eb-8f63-c368101450d0)

![image](https://github.com/Amaz1ngJR/Technology/assets/83129567/33d5848a-ac04-419a-9e32-2a3e81d8bf17)



# HTTP、HTTPS
HTTP是超文本传输协议，是一种用于分布式、协作式和超媒体信息系统的应用层协议；
```
无状态：HTTP协议本身不对请求和响应之间的通信状态进行保存。这意味着每次请求都是独立的，服务器不会记住之前客户端的请求历史。若需要保持状态，通常需要借助Cookies、Session等技术。
明文传输：HTTP协议在传输数据时不进行加密，所有请求和响应的内容（包括URL、请求头、请求体、响应头、响应体）均以明文形式在网络中传输，容易被中间人监听、篡改或冒充。
简单快速：HTTP协议设计简单，报文结构清晰，解析和生成成本较低，有利于快速处理和响应请求。
```
HTTPS是HTTP协议的安全版本，通过在HTTP协议与TCP协议之间增加一层SSL/TLS协议，为数据通信提供加密、认证和完整性保护。
```
加密通信：HTTPS使用SSL/TLS协议对请求和响应内容进行加密，包括但不限于URL、请求头、请求体、响应头、响应体。加密方式通常采用对称加密（如AES）与非对称加密（如RSA）相结合的混合加密模式，保证数据在传输过程中即使被截获也无法被轻易解读。
身份认证：服务器在HTTPS连接建立阶段会向客户端出示数字证书，包含服务器的身份信息（如域名、颁发机构、公钥等）。客户端通过验证证书的完整性和可信性来确认服务器的身份，防止中间人攻击和假冒服务器。
数据完整性：HTTPS通过消息认证码（MAC）或数字签名技术，确保数据在传输过程中未经篡改。如果数据在传输过程中被修改，接收方能够检测出来并拒绝接收。
```
HTTP与HTTPS的区别
```
安全性：这是二者最显著的区别。HTTP不提供任何安全措施，通信内容易被窃听、篡改。而HTTPS通过对数据进行加密、对服务器进行身份验证、保障数据完整性，极大地提高了通信安全性，尤其适用于涉及敏感信息（如密码、信用卡号、个人隐私）的在线交易、登录、个人信息管理等场景。
端口：HTTP默认使用TCP端口80，而HTTPS使用端口443。
性能：由于HTTPS需要进行加密、解密操作以及证书验证，相比HTTP会引入额外的计算和网络延迟。然而，随着硬件性能提升和TLS优化技术的发展（如会话复用、False Start、HTTP/2多路复用等），HTTPS的性能劣势已经显著减小，且安全收益远大于性能损失。
信任与SEO：现代浏览器对HTTPS站点标记为“安全”，增强用户信任感。此外，主流搜索引擎（如Google）会优先收录HTTPS站点，并在搜索排名中给予更高的权重，有利于SEO优化。
```
